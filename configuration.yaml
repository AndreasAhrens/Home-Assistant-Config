homeassistant:
  # Name of the location where Home Assistant is running
  name: Hemgatan
  # Location required to calculate the time the sun rises and sets
  latitude: !secret lat
  longitude: !secret long
  # Impacts weather/sunrise data (altitude above sea level in meters)
  elevation: 3
  # metric for Metric, imperial for Imperial
  unit_system: metric
  # Pick yours from here: http://en.wikipedia.org/wiki/List_of_tz_database_time_zones
  time_zone: Europe/Stockholm
  customize: !include customize.yaml

# Show links to resources in log and frontend
# introduction:

# Enables the frontend
frontend:

http:
  api_password: !secret http_password
  ssl_certificate: !secret ssl_cert
  ssl_key: !secret ssl_key
  base_url: !secret base_url
  cors_allowed_origins:
    - https://google.com
    - https://home-assistant.io
  ip_ban_enabled: True
  login_attempts_threshold: 10

  # Uncomment this if you are using SSL or running in Docker etc
  # base_url: example.duckdns.org:8123

# Checks for available updates
updater:

# Add support for ffmpeg in order to use video streams
ffmpeg:
#  ffmpeg_bin: /usr/bin/avconv
# Now add the cameras
camera:
  - platform: ffmpeg
    input: !secret front_door_camera
    name: Front-door

#### INCLUDES ########
automation old: !include_dir_merge_list automation/
automation: !include automations.yaml
sensor: !include sensors.yaml
switch: !include switches.yaml
device_tracker: !include device_tracker.yaml
group: !include groups.yaml
light: !include lights.yaml
plant: !include plant.yaml
scene: !include scenes.yaml
script: !include scripts.yaml

zone:
  name: Home
  latitude: !secret lat
  longitude: !secret long
  radius: 60
  icon: mdi:home

zone 2:
  name: Devv
  latitude: !secret work_lat
  longitude: !secret work_long
  radius: 100
  icon: mdi:briefcase

# Discover some devices automatically
discovery:

#Presence based lights
#device_sun_light_trigger:
#  light_group: group.coming_home_lights
#  #light_profile: relax
#  device_group: group.maindevices

# Allows you to issue voice commands from the frontend in enabled browsers
conversation:

# Amazon Echo config
emulated_hue:
  host_ip: 192.168.31.68
  exposed_domains:
    - light
    - switch
    - fan

# Use MySQL database
recorder:
  db_url: !secret mysql_connection
# Enables tellstick
tellstick:
  signal_repetitions: 10

digital_ocean:
  access_token: !secret digital_ocean_api

binary_sensor:
  - platform: digital_ocean
    droplets:
      - 'Andreasahrensnew'
  - platform: ffmpeg_motion
    input: !secret front_door_camera
    name: Front door motion


# Enables support for tracking state changes over time.
history:

# View all events in a logbook
logbook:

# Track the sun
sun:

# Enables configuration
config:

media_player:
  - platform: spotify
    client_id: !secret spotify_client_id
    client_secret: !secret spotify_client_secret
  - platform: mpd
    host: 192.168.31.68
    port: 6666


# Verisure setup
verisure:
  username: !secret verisure_username
  password: !secret verisure_password

#MQTT setup, Mosquito
mqtt:
  broker: 192.168.31.68
  port: 1883
  client_id: home-assistant-1
  keepalive: 60
  # TODO - get it working with Username and Password and then 
  # add to secrets.yaml
  # username: USERNAME
  # password: PASSWORD

ios:
  # Use the iOS app
# Text to speech
tts:
  platform: google

shell_command: 
  renew_ssl: ~/certbot/certbot-auto renew --quiet --no-self-upgrade --standalone --preferred-challenges http-01
  get_latest_config: bash /home/homeassistant/.homeassistant/bin/update_config_from_github.sh
notify:
  - name: Facebook_Notify
    platform: facebook
    page_access_token: !secret facebook_token
  - name: Mailgun_Notifier
    platform: mailgun
    domain: andreasahrens.se
    token: !secret mailgun_token
    recipient: andreas@ahrensit.se
  - name: iOSApp
    platform: ios
    token: !secret ios_token

#hdmi_cec:
 # devices:
  #  TV: 0.0.0.0
    #Pi Zero: 1.0.0.0
    #Fire TV Stick: 2.1.0.0
    # Chromecast: 3.0.0.0
   # Soundbar: 1.0.0.0
    #BlueRay player: 3.0.0.0

